<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="UTF-8">
  <title>radio</title>
  <script src="https://cdn.bootcss.com/vue/2.5.13/vue.js"></script>
  <script src="https://cdn.bootcss.com/element-ui/2.1.0/index.js"></script>
  <link href="https://cdn.bootcss.com/element-ui/2.1.0/theme-chalk/index.css" rel="stylesheet">
</head>

<body>

  <div id="app">
    <el-table :data="tableData.data" :span-method="objectSpanMethod" border style="width: 100%">
      <el-table-column :prop="column.prop" :label="column.name" :width="column.width" v-for="column in tableData.columns" :key="column.prop" >
        <template  slot-scope="scope" >
          <div v-if="column.prop === 'select' && scope.row[column.prop] !== null">
              <el-checkbox v-model="scope.row.value"></el-checkbox>
          </div>
          <div v-else>{{scope.row[column.prop]}}</div>
        </template>
      </el-table-column>
    </el-table>
  </div>

  <script>
    var Main = {
      data() {
        return {
          tableData: {
            columns: [{
                prop: 'select',
                name: '选择',
                width: '50'
              },
              {
                prop: 'happenTime',
                name: '时间'
              },
              {
                prop: 'eventName',
                name: '动作'
              },
              {
                prop: 'operator',
                name: '操作人员'
              },
              {
                prop: 'quantity',
                name: '产出数量'
              },
              {
                prop: 'quantityAll',
                name: '区间产出数量'
              },
              {
                prop: 'percent',
                name: '区间产出合格率'
              },
              {
                prop: 'equipmentName',
                name: '设备'
              },
              {
                prop: 'materialName',
                name: '物料'
              },
              {
                prop: 'batchNo',
                name: '批次'
              }
            ],
            data: [
            {
              select:1,
              value: false,
              happenTime: 2018/2/5,
              eventName: "上模",
              operator: '张三',
              quantity: 20,
              quantityAll: 50,
              percent: 40,
              equipmentName: 'A设备1',
              materialName: 'A物料',
              batchNo: '000批次',
              rowspan: 3,
              colspan: 1
            }, {
              select:null,
              happenTime: 2018/2/5,
              eventName: "第一次产出",
              operator: '张三',
              quantity: 20,
              quantityAll: 50,
              percent: 40,
              equipmentName: 'A设备1',
              materialName: 'A物料',
              batchNo: '000批次',
              rowspan: 0,
              colspan: 0
            }, {
              select:3,
              value: false,
              happenTime: 2018/2/5,
              eventName: "产出废品",
              operator: '张三',
              quantity: 20,
              quantityAll: 50,
              percent: 40,
              equipmentName: 'A设备1',
              materialName: 'A物料',
              batchNo: '000批次',
              rowspan: 0,
              colspan: 0
            }, {
              select:null,
              happenTime: 2018/2/5,
              eventName: "上模",
              operator: '张三',
              quantity: 20,
              quantityAll: 50,
              percent: 40,
              equipmentName: 'A设备2',
              materialName: 'A物料',
              batchNo: '000批次',
              rowspan: 2,
              colspan: 1
            },
            {
              select:5,
              value: false,
              happenTime: 2018/2/5,
              eventName: "上模",
              operator: '张三',
              quantity: 20,
              quantityAll: 50,
              percent: 40,
              equipmentName: 'A设备2',
              materialName: 'A物料',
              batchNo: '000批次',
              rowspan: 0,
              colspan: 0
            }, {
              select:6,
              value: false,
              happenTime: 2018/2/5,
              eventName: "上模",
              operator: '张三',
              quantity: 20,
              quantityAll: 50,
              percent: 40,
              equipmentName: 'A设备3',
              materialName: 'A物料',
              batchNo: '000批次',
              rowspan: 2,
              colspan: 1
            }, {
              select:7,
              value: false,
              happenTime: 2018/2/5,
              eventName: "上模",
              operator: '张三',
              quantity: 20,
              quantityAll: 50,
              percent: 40,
              equipmentName: 'A设备3',
              materialName: 'A物料',
              batchNo: '000批次',
              rowspan: 0,
              colspan: 0
            }, {
              select:8,
              value: false,
              happenTime: 2018/2/5,
              eventName: "上模",
              operator: '张三',
              quantity: 20,
              quantityAll: 50,
              percent: 40,
              equipmentName: 'A设备4',
              materialName: 'A物料',
              batchNo: '000批次',
              rowspan: 1,
              colspan: 1
            }
            ]
          }
        };
      },
      methods: {
        arraySpanMethod({
          row,
          column,
          rowIndex,
          columnIndex
        }) {
          if (rowIndex % 2 === 0) {
            if (columnIndex === 0) {   
              return [1, 2];
            } else if (columnIndex === 1) {
              return [0, 0];
            }
          }
        },

        objectSpanMethod({
          row,
          column,
          rowIndex,
          columnIndex
        }) {
          if (columnIndex === 7) {   // 第八列需要合并单元格          
            return {
              rowspan: row.rowspan,
              colspan: row.colspan
            }
          }
        }
      }
    }
    var Ctor = Vue.extend(Main)
    new Ctor().$mount('#app')
  </script>
</body>

</html>